this.lightvue=this.lightvue||{},this.lightvue.rating=function(t){"use strict";var e={name:"Star",props:{fill:{type:Number,default:0},points:{type:Array,default:()=>[]},size:{type:Number,default:50},starId:{type:Number,required:!0},activeColor:{type:String,required:!0},inactiveColor:{type:String,required:!0},borderColor:{type:String,default:"#000"},borderWidth:{type:Number,default:0},roundedCorners:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},glow:{type:Number,default:0},glowColor:{type:String,default:null,required:!1}},emits:["star-mouse-move","star-selected"],data:()=>({starPoints:[19.8,2.2,6.6,43.56,39.6,17.16,0,17.16,33,43.56],grad:"",glowId:""}),computed:{starPointsToString(){return this.starPoints.join(",")},gradId(){return"url(#"+this.grad+")"},starSize(){const t=this.roundedCorners&&this.borderWidth<=0?parseInt(this.size)-parseInt(this.border):this.size;return parseInt(t)+parseInt(this.border)},starFill(){return this.rtl?100-this.fill+"%":this.fill+"%"},border(){return this.roundedCorners&&this.borderWidth<=0?6:this.borderWidth},getBorderColor(){return this.roundedCorners&&this.borderWidth<=0?this.fill<=0?this.inactiveColor:this.activeColor:this.borderColor},maxSize(){return this.starPoints.reduce((function(t,e){return Math.max(t,e)}))},viewBox(){return"0 0 "+this.maxSize+" "+this.maxSize}},created(){this.starPoints=this.points.length?this.points:this.starPoints,this.calculatePoints(),this.grad=this.getRandomId(),this.glowId=this.getRandomId()},methods:{mouseMoving(t){this.$emit("star-mouse-move",{event:t,position:this.getPosition(t),id:this.starId})},getPosition(t){var e=.92*this.size;const r=this.rtl?Math.min(t.offsetX,45):Math.max(t.offsetX,1);var i=Math.round(100/e*r);return Math.min(i,100)},selected(t){this.$emit("star-selected",{id:this.starId,position:this.getPosition(t)})},getRandomId:()=>Math.random().toString(36).substring(7),calculatePoints(){this.starPoints=this.starPoints.map((t=>this.size/this.maxSize*t+1.5*this.border))},parseAlphaColor(t){const e=[{pattern:/^rgba\((\d{1,3}%?\s*,\s*){3}(\d*(?:\.\d+)?)\)$/,getColor:t=>t.replace(/,(?!.*,).*(?=\))|a/g,""),getOpacity:t=>t.match(/\.\d+|[01](?=\))/)[0]},{pattern:/^hsla\(\d+\s*,\s*([\d.]+%\s*,\s*){2}(\d*(?:\.\d+)?)\)$/,getColor:t=>t.replace(/,(?!.*,).*(?=\))|a/g,""),getOpacity:t=>t.match(/\.\d+|[01](?=\))/)[0]},{pattern:/^#([0-9A-Fa-f]{4}|[0-9A-Fa-f]{8})$/,getColor:t=>5===t.length?t.substring(0,4):t.substring(0,7),getOpacity:t=>5===t.length?(parseInt(t.substring(4,5)+t.substring(4,5),16)/255).toFixed(2):(parseInt(t.substring(7,9),16)/255).toFixed(2)},{pattern:/^transparent$/,getColor:()=>"#fff",getOpacity:()=>"0"}];for(let r=0;r<e.length;r++)if(e[r].pattern.test(t))return{color:e[r].getColor(t),opacity:e[r].getOpacity(t)};return{color:t,opacity:"1"}},getColor(t){return this.parseAlphaColor(t).color},getOpacity(t){return this.parseAlphaColor(t).opacity}}};const r=t.createVNode("feMerge",null,[t.createVNode("feMergeNode",{in:"coloredBlur"}),t.createVNode("feMergeNode",{in:"SourceGraphic"})],-1);function i(t,e){void 0===e&&(e={});var r=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}i("\n.lv-rating__star-svg {\n        overflow: visible !important;\n}\n"),e.render=function(e,i,o,n,a,s){return t.openBlock(),t.createBlock("svg",{class:"lv-rating__star-svg",height:s.starSize,width:s.starSize,viewBox:s.viewBox,onMousemove:i[1]||(i[1]=(...t)=>s.mouseMoving&&s.mouseMoving(...t)),onClick:i[2]||(i[2]=(...t)=>s.selected&&s.selected(...t))},[t.createVNode("linearGradient",{id:a.grad,x1:"0",x2:"100%",y1:"0",y2:"0"},[t.createVNode("stop",{offset:s.starFill,"stop-color":o.rtl?s.getColor(o.inactiveColor):s.getColor(o.activeColor),"stop-opacity":o.rtl?s.getOpacity(o.inactiveColor):s.getOpacity(o.activeColor)},null,8,["offset","stop-color","stop-opacity"]),t.createVNode("stop",{offset:s.starFill,"stop-color":o.rtl?s.getColor(o.activeColor):s.getColor(o.inactiveColor),"stop-opacity":o.rtl?s.getOpacity(o.activeColor):s.getOpacity(o.inactiveColor)},null,8,["offset","stop-color","stop-opacity"])],8,["id"]),t.createVNode("filter",{id:a.glowId,height:"130%",width:"130%",filterUnits:"userSpaceOnUse"},[t.createVNode("feGaussianBlur",{stdDeviation:o.glow,result:"coloredBlur"},null,8,["stdDeviation"]),r],8,["id"]),o.glowColor?t.withDirectives((t.openBlock(),t.createBlock("polygon",{key:0,points:s.starPointsToString,fill:s.gradId,stroke:o.glowColor,filter:"url(#"+a.glowId+")"},null,8,["points","fill","stroke","filter"])),[[t.vShow,o.fill>1]]):t.createCommentVNode("",!0),t.createVNode("polygon",{points:s.starPointsToString,fill:s.gradId,stroke:s.getBorderColor,"stroke-width":s.border,"stroke-linejoin":o.roundedCorners?"round":"miter"},null,8,["points","fill","stroke","stroke-width","stroke-linejoin"]),t.createVNode("polygon",{points:s.starPointsToString,fill:s.gradId},null,8,["points","fill"])],40,["height","width","viewBox"])};var o={name:"LvRating",components:{Star:e},props:{increment:{type:Number,default:1},rating:{type:Number,default:0},roundStartRating:{type:Boolean,default:!0},activeColor:{type:String,default:"#38b2ac"},inactiveColor:{type:String,default:"#d8d8d8"},maxRating:{type:Number,default:5},starPoints:{type:Array,default:()=>[]},starSize:{type:Number,default:50},showRating:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},textClass:{type:String,default:""},inline:{type:Boolean,default:!1},borderColor:{type:String,default:"#999"},borderWidth:{type:Number,default:0},roundedCorners:{type:Boolean,default:!1},padding:{type:Number,default:0},rtl:{type:Boolean,default:!1},fixedPoints:{type:Number,default:null},glow:{type:Number,default:0},glowColor:{type:String,default:"#39b1ac"},clearable:{type:Boolean,default:!1}},emits:["update:modelValue","hover:rating"],data:()=>({step:0,fillLevel:[],currentRating:0,selectedRating:0,ratingSelected:!1}),computed:{formattedRating(){return null===this.fixedPoints?this.currentRating:this.currentRating.toFixed(this.fixedPoints)},shouldRound(){return this.ratingSelected||this.roundStartRating},margin(){return this.padding+this.borderWidth}},watch:{rating(t){this.currentRating=t,this.selectedRating=t,this.createStars(this.shouldRound)},maxRating(t){this.currentRating=t<this.selectedRating?t:this.selectedRating}},created(){this.step=100*this.increment,this.currentRating=this.rating,this.selectedRating=this.currentRating,this.createStars(this.roundStartRating)},methods:{setRating(t,e){if(!this.readOnly){const r=this.rtl?(100-t.position)/100:t.position/100;this.currentRating=(t.id+r-1).toFixed(2),this.currentRating=this.currentRating>this.maxRating?this.maxRating:this.currentRating,this.createStars(),e?(this.clearable&&this.currentRating===this.selectedRating?this.selectedRating=0:this.selectedRating=this.currentRating,this.$emit("update:rating",this.selectedRating),this.ratingSelected=!0):this.$emit("hover:rating",this.currentRating)}},resetRating(){this.readOnly||(this.currentRating=this.selectedRating,this.createStars(this.shouldRound))},createStars(t=!0){t&&this.round();for(var e=0;e<this.maxRating;e++){let t=0;e<this.currentRating&&(t=this.currentRating-e>1?100:100*(this.currentRating-e)),this.fillLevel[e]=Math.round(t)}},round(){var t=1/this.increment;this.currentRating=Math.min(this.maxRating,Math.ceil(this.currentRating*t)/t)}}};return i(".lv-rating {\n  display: flex;\n  align-items: center; }\n  .lv-rating.--inline {\n    display: inline-flex; }\n  .lv-rating.--rtl {\n    direction: rtl; }\n    .lv-rating.--rtl .lv-rating__value {\n      margin-right: 10px;\n      direction: rtl; }\n  .lv-rating .lv-rating__star {\n    display: inline-block;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    -webkit-tap-highlight-color: transparent;\n    cursor: pointer; }\n    .lv-rating .lv-rating__star.--read-only {\n      cursor: initial; }\n  .lv-rating .lv-rating__value {\n    margin-top: 7px;\n    margin-left: 7px; }\n"),o.render=function(e,r,i,o,n,a){const s=t.resolveComponent("star");return t.openBlock(),t.createBlock("div",{class:["lv-rating",{"--rtl":i.rtl},{"--inline":i.inline}]},[t.createVNode("div",{class:"lv-rating",onMouseleave:r[2]||(r[2]=(...t)=>a.resetRating&&a.resetRating(...t))},[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(i.maxRating,(e=>(t.openBlock(),t.createBlock("span",{key:e,class:[{"--read-only":i.readOnly},"lv-rating__star"],style:{"margin-right":a.margin+"px"}},[t.createVNode(s,{key:n.currentRating,fill:n.fillLevel[e-1],size:i.starSize,points:i.starPoints,"star-id":e,step:n.step,"active-color":i.activeColor,"inactive-color":i.inactiveColor,"border-color":i.borderColor,"border-width":i.borderWidth,"rounded-corners":i.roundedCorners,rtl:i.rtl,glow:i.glow,"glow-color":i.glowColor,onStarSelected:r[1]||(r[1]=t=>a.setRating(t,!0)),onStarMouseMove:a.setRating},null,8,["fill","size","points","star-id","step","active-color","inactive-color","border-color","border-width","rounded-corners","rtl","glow","glow-color","onStarMouseMove"])],6)))),128)),i.showRating?(t.openBlock(),t.createBlock("span",{key:0,class:["lv-rating__value",i.textClass]},t.toDisplayString(a.formattedRating),3)):t.createCommentVNode("",!0)],32)],2)},o}(Vue);
