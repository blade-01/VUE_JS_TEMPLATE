"use strict";var e=require("vue"),t={created(){"undefined"!=typeof document&&r(this,((e,t)=>{!function(e,t,r){const a=n?{passive:!1}:void 0;e.addEventListener(t,r,a)}(document,e,t)}))},beforeDestroy(){"undefined"!=typeof document&&r(this,((e,t)=>{!function(e,t,r){const a=n?{passive:!1}:void 0;e.removeEventListener(t,r,a)}(document,e,t)}))}};const n="undefined"!=typeof window&&(()=>{let e=!1;try{const t={get(){e=!0}},n=Object.defineProperty({},"passive",t);window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch(t){e=!1}return e})();function r(e,t=(key,listener)){const n=e.$options.events;Object.keys(n).forEach((r=>{t(r,(t=>n[r].call(e,t)))}))}function a(e,t){const n=t.getBoundingClientRect();return{left:e.clientX-n.left,top:e.clientY-n.top}}var i={mixins:[t],emits:["drag","dragstart","dragend"],props:{disabled:Boolean},data:()=>({isDrag:!1}),events:{mousedown(e){return this.dragStart(e,this.offsetByMouse)},mousemove(e){return this.dragMove(e,this.offsetByMouse)},mouseup(e){return this.dragEnd(e,this.offsetByMouse)},touchstart(e){return this.dragStart(e,this.offsetByTouch)},touchmove(e){return this.dragMove(e,this.offsetByTouch)},touchend(e){return this.dragEnd(e,this.offsetByTouch)},touchcancel(e){return this.dragEnd(e,this.offsetByTouch)}},methods:{isInTarget(e){return!!e&&(e===this.$el||this.isInTarget(e.parentElement))},offsetByMouse(e){return a(e,this.$el)},offsetByTouch(e){return a(0===e.touches.length?e.changedTouches[0]:e.touches[0],this.$el)},dragStart(e,t=(e=>{left,top})){this.disabled||void 0!==e.button&&0!==e.button||!this.isInTarget(e.target)||(e.preventDefault(),this.isDrag=!0,this.$emit("dragstart",e,t(e),this.$el))},dragMove(e,t=(e=>{left,top})){this.isDrag&&(e.preventDefault(),this.$emit("drag",e,t(e),this.$el))},dragEnd(e,t=(e=>{left,top})){this.isDrag&&(e.preventDefault(),this.isDrag=!1,this.$emit("dragend",e,t(e),this.$el))}}};i.render=function(t,n,r,a,i,s){return e.openBlock(),e.createBlock("div",null,[e.renderSlot(t.$slots,"default")])};var s={props:{name:String,value:[String,Number],disabled:{type:Boolean,default:!1},min:{type:[String,Number],default:0},max:{type:[String,Number],default:100},step:{type:[String,Number],default:1},sliderColor:{type:String,default:"#607c8a"},trackColor:{type:String,default:"#e2e2e2"},showValue:{type:Boolean,default:!0}},data:()=>({actualValue:null,dragStartValue:null,dragging:!1}),created(){const{_min:e,_max:t}=this;let n=Number(this.value);(null==this.value||isNaN(n))&&(n=e>t?e:(e+t)/2),this.actualValue=this.round(n)},mounted(){0==this.showValue&&(this.$refs.rangeSliderVal.style.display="none")},computed:{_min(){return Number(this.min)},_max(){return Number(this.max)},_step(){return Number(this.step)},valuePercent(){return(this.actualValue-this._min)/(this._max-this._min)*100}},watch:{value(e){const t=Number(e);null==e||isNaN(t)||(this.actualValue=this.round(t))},min(){this.actualValue=this.round(this.actualValue)},max(){this.actualValue=this.round(this.actualValue)}},methods:{dragStart(e,t){this.dragging=!0,this.dragStartValue=this.actualValue,e.target!==this.$refs.knob&&this.drag(e,t)},drag(e,t){const{offsetWidth:n}=this.$refs.inner;this.actualValue=this.round(this.valueFromBounds(t.left,n)),this.emitInput(this.actualValue)},dragEnd(e,t){this.dragging=!1;const{offsetWidth:n}=this.$refs.inner;this.actualValue=this.round(this.valueFromBounds(t.left,n)),this.dragStartValue!==this.actualValue&&this.emitChange(this.actualValue)},emitInput(e){this.$emit("input",e),this.$emit("update:modelValue",e)},emitChange(e){this.$emit("change",e)},valueFromBounds(e,t){return e/t*(this._max-this._min)+this._min},round(e){const t=this.step.toString().split(".")[1]?.length||0;return function(e,t,n,r){if(e<=t)return t;const a=Math.floor((n-t)/r)*r+t;if(e>=a)return a;const i=(e-t)/r,s=Math.floor(i+Number.EPSILON);return i-s<.5?r*s+t:r*(s+1)+t}(e,this._min,this._max,this._step).toFixed(t)}},components:{DragHelper:i}};const l={ref:"inner",class:"lv-range-slider__inner"};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".lv-range-slider {\n  display: inline-block;\n  height: 20px;\n  width: 100%;\n  min-width: 120px; }\n\n.lv-range-slider.disabled {\n  opacity: 0.5; }\n\n.lv-range-slider__inner {\n  display: inline-block;\n  position: relative;\n  height: 100%;\n  width: 100%; }\n\n.lv-range-slider__rail,\n.lv-range-slider__fill {\n  display: block;\n  position: absolute;\n  top: 50%;\n  left: 0;\n  height: 4px;\n  border-radius: 2px;\n  transform: translateY(-50%);\n  transition: all 0.25s; }\n\n.lv-range-slider__rail {\n  width: 100%;\n  background-color: var(--rail-color); }\n\n.lv-range-slider__fill {\n  background-color: var(--rail-fill-color); }\n\n.lv-range-slider__knob {\n  display: block;\n  position: absolute;\n  top: 50%;\n  left: 0;\n  box-sizing: border-box;\n  height: 16px;\n  width: 32px;\n  border: 4px solid #f5f5f5;\n  border-radius: 16px;\n  background-color: #fff;\n  transform: translate(-50%, -50%);\n  opacity: 1;\n  transition: all 0.2s;\n  cursor: pointer; }\n\n.lv-range-slider__hidden {\n  display: none; }\n\n.lv-range-slider__knob__val {\n  display: inline-block;\n  position: relative;\n  color: val(--rail-fill-color);\n  background-color: #ffffff;\n  padding: 2px;\n  border: solid 0.3px rgba(0, 0, 0, 0.2);\n  font-size: 13px;\n  top: -32px;\n  left: -8px;\n  text-align: center;\n  width: 40px;\n  min-width: max-content;\n  border-radius: 4px;\n  transition: all 0.2s; }\n"),s.render=function(t,n,r,a,i,s){const o=e.resolveComponent("drag-helper");return e.openBlock(),e.createBlock("span",{class:["lv-range-slider",{disabled:r.disabled}],ref:"rangeslider"},[e.createVNode(o,{disabled:r.disabled,onDragstart:s.dragStart,onDrag:s.drag,onDragend:s.dragEnd},{default:e.withCtx((()=>[e.createVNode("span",l,[e.createVNode("input",{class:"lv-range-slider__hidden",type:"text",name:r.name,value:i.actualValue,disabled:r.disabled},null,8,["name","value","disabled"]),e.createVNode("span",{class:"lv-range-slider__rail",style:{backgroundColor:r.trackColor}},null,4),e.createVNode("span",{class:"lv-range-slider__fill",style:{width:s.valuePercent+"%",backgroundColor:r.sliderColor}},null,4),e.createVNode("span",{class:"lv-range-slider__knob",ref:"knob",style:{left:s.valuePercent+"%",borderColor:r.sliderColor}},[e.renderSlot(t.$slots,"knob",{},(()=>[e.withDirectives(e.createVNode("span",{ref:"rangeSliderVal",class:"lv-range-slider__knob__val",style:{color:r.sliderColor}},e.toDisplayString(i.actualValue),5),[[e.vShow,i.dragging]])]))],4)],512)])),_:3},8,["disabled","onDragstart","onDrag","onDragend"])],2)},module.exports=s;
