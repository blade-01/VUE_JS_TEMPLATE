"use strict";var e=require("lightvue/utils");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=t(require("lightvue/ripple"));const o=e.pubSub();var a={props:{message:null},closeTimeout:null,mounted(){this.message.duration&&(this.closeTimeout=setTimeout((()=>{this.close()}),this.message.duration))},methods:{close(){this.$emit("close",this.message)},onCloseClick(){this.closeTimeout&&clearTimeout(this.closeTimeout),this.close()}},computed:{containerClass(){return["lv-toast__message",{"--info":"info"===this.message.type,"--warn":"warn"===this.message.type,"--error":"error"===this.message.type,"--success":"success"===this.message.type}]}},directives:{ripple:s.default}};function n(e,t,s,o,a,n,r,i,l,d){"boolean"!=typeof r&&(l=i,i=r,r=!1);const c="function"==typeof s?s.options:s;let m;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,a&&(c.functional=!0)),o&&(c._scopeId=o),n?(m=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=m):t&&(m=r?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,i(e))}),m)if(c.functional){const e=c.render;c.render=function(t,s){return m.call(s),e(t,s)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,m):[m]}return s}var r=0;function i(e){return e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),e?("styles"in e||(e._styles=e._styles||{},Object.defineProperty(e,"styles",{enumerable:!0,get:()=>e._renderStyles(e._styles)}),e._renderStyles=e._renderStyles||l),(t,s)=>function(e,t,s){const o="production"===process.env.NODE_ENV?t.media||"default":e,a=s._styles[o]||(s._styles[o]={ids:[],css:""});if(!a.ids.includes(e)){a.media=t.media,a.ids.push(e);let s=t.source;"production"!==process.env.NODE_ENV&&t.map&&(s+="\n/*# sourceURL="+t.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+Buffer.from(unescape(encodeURIComponent(JSON.stringify(t.map)))).toString("base64")+" */"),a.css+=s+"\n"}}(t,s,e)):()=>{}}function l(e){let t="";for(const s in e){const o=e[s];t+='<style data-vue-ssr-id="'+Array.from(o.ids).join(" ")+'"'+(o.media?' media="'+o.media+'"':"")+">"+o.css+"</style>"}return t}const d=n({render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"container",class:e.containerClass},[s("transition-group",{attrs:{name:"lv-toast__message",tag:"div"}},e._l(e.messages,(function(t){return s("ToastMessage",{key:t.id,attrs:{message:t},on:{close:function(t){return e.remove(t)}}})})),1)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-47c4280e_0",{source:".lv-toast .lv-toast__message{margin:0 0 1rem 0;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);border-radius:25px;background:#38b2ac}.lv-toast .lv-toast__message .lv-toast__message-content{padding:1rem;border-width:0;text-align:center;color:#fff!important;width:100%}.lv-toast .lv-toast__message .lv-toast__message-content .lv-toast__message-text{color:#fff!important}.lv-toast .lv-toast__message.--info{background:#3298dc}.lv-toast .lv-toast__message.--success{background:#48c774}.lv-toast .lv-toast__message.--warn{background:#f4c430}.lv-toast .lv-toast__message.--error{background:#bb2727}.lv-toast{position:fixed;min-width:15rem;font-size:18px}.lv-toast.--top{top:20px;left:50%;transform:translateX(-50%)}.lv-toast.--bottom{bottom:20px;left:50%;transform:translateX(-50%)}.lv-toast.--center{top:50%;left:50%;transform:translate(-50%,-50%)}.lv-toast__message-text{flex:1 1 auto}.lv-toast__icon-close.lv-link{cursor:pointer}.lv-toast__message-enter,.lv-toast__message-enter-from{opacity:0;-webkit-transform:translateY(50%);-ms-transform:translateY(50%);transform:translateY(50%)}.lv-toast__message-enter-active{-webkit-transition:transform .3s,opacity .3s;transition:transform .3s,opacity .3s}.lv-toast__message-leave,.lv-toast__message-leave-from{max-height:1000px}.lv-toast__message-leave-active{-webkit-transition:max-height .45s cubic-bezier(0,1,0,1),opacity .3s,margin-bottom .3s;transition:max-height .45s cubic-bezier(0,1,0,1),opacity .3s,margin-bottom .3s}.lv-toast__message-leave-to{max-height:0;opacity:0;margin-bottom:0;overflow:hidden}",map:void 0,media:void 0})}),{props:{group:{type:String,default:null},position:{type:String,default:"top"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0}},data:()=>({messages:[]}),mounted(){o.$on("add",(e=>{e.position||(e.position="top"),this.position==e.position&&this.add(e)})),o.$on("remove-group",(e=>{e||(e="top"),this.position===e&&(this.messages=[])})),o.$on("remove-all-groups",(()=>{this.messages=[]})),this.updateZIndex()},beforeUpdate(){this.updateZIndex()},methods:{add(e){null==e.id&&(e.id=r++),this.messages=[...this.messages,e]},remove(e){let t=-1;for(let s=0;s<this.messages.length;s++)if(this.messages[s]===e){t=s;break}this.messages.splice(t,1)},updateZIndex(){this.autoZIndex&&(this.$refs.container.style.zIndex=String(this.baseZIndex+e.DomHandler.generateZIndex()))}},components:{ToastMessage:n({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.containerClass,attrs:{role:"alert","aria-live":"assertive","aria-atomic":"true"}},[e._ssrNode('<div class="lv-toast__message-content"><div class="lv-toast__content">'+e._ssrEscape(e._s(e.message.content))+"</div></div>")])},staticRenderFns:[]},undefined,a,undefined,false,"data-v-60213eed",!1,void 0,void 0,void 0)},computed:{containerClass(){return"lv-toast lv-component --"+this.position}}},undefined,false,"data-v-47c4280e",!1,void 0,i,void 0),c={install:e=>{const t={add:e=>{o.$emit("add",e)},removeGroup:e=>{o.$emit("remove-group",e)},removeAllGroups:()=>{o.$emit("remove-all-groups")}};e.prototype?e.prototype.$toast=t:e.config.globalProperties.$toast=t,e.component("LvToast",d)}};module.exports=c;
