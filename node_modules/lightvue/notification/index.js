"use strict";var t=require("lightvue/utils");function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var e=i(require("lightvue/ripple"));const o=t.pubSub();var n={props:{message:null},closeTimeout:null,mounted(){this.message.duration&&(this.closeTimeout=setTimeout((()=>{this.close()}),this.message.duration))},methods:{close(){this.$emit("close",this.message)},onCloseClick(){this.closeTimeout&&clearTimeout(this.closeTimeout),this.close()}},computed:{containerClass(){return["lv-notification__message",{"--info":"info"===this.message.type,"--warn":"warn"===this.message.type,"--error":"error"===this.message.type,"--success":"success"===this.message.type}]},iconClass(){return["lv-notification__message-icon",{"light-icon-info-circle":"info"===this.message.type,"light-icon-alert-triangle":"warn"===this.message.type,"light-icon-circle-x":"error"===this.message.type,"light-icon-circle-check":"success"===this.message.type}]}},directives:{ripple:e.default}};function s(t,i,e,o,n,s,a,c,r,l){"boolean"!=typeof a&&(r=c,c=a,a=!1);const f="function"==typeof e?e.options:e;let m;if(t&&t.render&&(f.render=t.render,f.staticRenderFns=t.staticRenderFns,f._compiled=!0,n&&(f.functional=!0)),o&&(f._scopeId=o),s?(m=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,r(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},f._ssrRegister=m):i&&(m=a?function(t){i.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){i.call(this,c(t))}),m)if(f.functional){const t=f.render;f.render=function(i,e){return m.call(e),t(i,e)}}else{const t=f.beforeCreate;f.beforeCreate=t?[].concat(t,m):[m]}return e}var a=0;function c(t){return t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),t?("styles"in t||(t._styles=t._styles||{},Object.defineProperty(t,"styles",{enumerable:!0,get:()=>t._renderStyles(t._styles)}),t._renderStyles=t._renderStyles||r),(i,e)=>function(t,i,e){const o="production"===process.env.NODE_ENV?i.media||"default":t,n=e._styles[o]||(e._styles[o]={ids:[],css:""});if(!n.ids.includes(t)){n.media=i.media,n.ids.push(t);let e=i.source;"production"!==process.env.NODE_ENV&&i.map&&(e+="\n/*# sourceURL="+i.map.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+Buffer.from(unescape(encodeURIComponent(JSON.stringify(i.map)))).toString("base64")+" */"),n.css+=e+"\n"}}(i,e,t)):()=>{}}function r(t){let i="";for(const e in t){const o=t[e];i+='<style data-vue-ssr-id="'+Array.from(o.ids).join(" ")+'"'+(o.media?' media="'+o.media+'"':"")+">"+o.css+"</style>"}return i}const l=s({render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"container",class:t.containerClass},[e("transition-group",{attrs:{name:"lv-notification__message",tag:"div"}},t._l(t.messages,(function(i){return e("NotificationMessage",{key:i.id,attrs:{message:i},on:{close:function(i){return t.remove(i)}}})})),1)],1)},staticRenderFns:[]},(function(t){t&&t("data-v-3be2d50e_0",{source:".lv-notification .lv-notification__icon-close-icon{font-weight:700;font-size:18px;color:#fff!important}.lv-notification .lv-notification__message{margin:0 0 1rem 0;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);border-radius:3px;background:#38b2ac}.lv-notification .lv-notification__message .lv-notification__message-content{padding:1rem;border-width:0}.lv-notification .lv-notification__message .lv-notification__message-content .lv-notification__message-text{margin:0 0 0 1rem;color:#fff!important}.lv-notification .lv-notification__message .lv-notification__message-content .lv-notification__message-icon{font-size:2.4rem;font-weight:700;color:inherit;padding:0 6px;border-radius:50%}.lv-notification .lv-notification__message .lv-notification__message-content .lv-notification__title{font-weight:700}.lv-notification .lv-notification__message .lv-notification__message-content .lv-notification__content{margin:.5rem 0 0 0}.lv-notification .lv-notification__message .lv-notification__icon-close{font-weight:900;width:2rem;height:2rem;border-radius:50%;border-color:transparent;background-color:rgba(10,10,10,.2);transition:background-color .2s,color .2s,box-shadow .2s}.lv-notification .lv-notification__message .lv-notification__icon-close:hover{background:rgba(255,255,255,.3)}.lv-notification .lv-notification__message .lv-notification__icon-close:focus{outline:0 none;outline-offset:0}.lv-notification .lv-notification__message .lv-notification__icon-close,.lv-notification .lv-notification__message .lv-notification__message-icon{color:rgba(255,255,255,.7)!important}.lv-notification .lv-notification__message.--info{background:#3298dc}.lv-notification .lv-notification__message.--success{background:#1ab14f}.lv-notification .lv-notification__message.--warn{background:#f4c430}.lv-notification .lv-notification__message.--error{background:#b24444}@media only screen and (max-device-width:480px) and (-webkit-min-device-pixel-ratio:2){.lv-notification{width:18rem!important}.lv-notification .lv-notification__icon-close-icon{font-size:15px}.lv-notification .lv-notification__message{margin:0 0 .6rem 0}.lv-notification .lv-notification__message .lv-notification__message-content{padding:.8rem}.lv-notification .lv-notification__message .lv-notification__message-content .lv-notification__message-icon{font-size:2.2rem;padding:0 5px}.lv-notification .lv-notification__message .lv-notification__message-content .lv-notification__content{margin:.5rem 0 0 0}}.lv-notification{position:fixed;width:25rem}.lv-notification.--top-right{top:20px;right:20px}.lv-notification.--top-left{top:20px;left:20px}.lv-notification.--bottom-left{bottom:20px;left:20px}.lv-notification.--bottom-right{bottom:20px;right:20px}.lv-notification.--top-center{top:20px;left:50%;margin-left:-10em}.lv-notification.--bottom-center{bottom:20px;left:50%;margin-left:-10em}.lv-notification.--center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.lv-notification__message-content{display:flex;align-items:flex-start}.lv-notification__message-text{flex:1 1 auto}.lv-notification__icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.lv-notification__icon-close.lv-link{cursor:pointer}.lv-notification__message-enter,.lv-notification__message-enter-from{opacity:0;-webkit-transform:translateY(50%);-ms-transform:translateY(50%);transform:translateY(50%)}.lv-notification__message-leave,.lv-notification__message-leave-from{max-height:1000px}.lv-notification__message-leave-to{max-height:0;opacity:0;margin-bottom:0;overflow:hidden}.lv-notification__message-enter-active{-webkit-transition:transform .3s,opacity .3s;transition:transform .3s,opacity .3s}.lv-notification__message-leave-active{-webkit-transition:max-height .45s cubic-bezier(0,1,0,1),opacity .3s,margin-bottom .3s;transition:max-height .45s cubic-bezier(0,1,0,1),opacity .3s,margin-bottom .3s}",map:void 0,media:void 0})}),{props:{group:{type:String,default:null},position:{type:String,default:"top-right"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0}},data:()=>({messages:[]}),mounted(){o.$on("add",(t=>{t.position||(t.position="top-right"),this.position==t.position&&this.add(t)})),o.$on("remove-group",(t=>{message.position||(message.position="top-right"),this.position===t&&(this.messages=[])})),o.$on("remove-all-groups",(()=>{this.messages=[]})),this.updateZIndex()},beforeUpdate(){this.updateZIndex()},methods:{add(t){null==t.id&&(t.id=a++),this.messages=[...this.messages,t]},remove(t){let i=-1;for(let e=0;e<this.messages.length;e++)if(this.messages[e]===t){i=e;break}this.messages.splice(i,1)},updateZIndex(){this.autoZIndex&&(this.$refs.container.style.zIndex=String(this.baseZIndex+t.DomHandler.generateZIndex()))}},components:{NotificationMessage:s({render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{class:t.containerClass,attrs:{role:"alert","aria-live":"assertive","aria-atomic":"true"}},[t._ssrNode('<div class="lv-notification__message-content">',"</div>",[t._ssrNode("<span"+t._ssrClass(null,t.iconClass)+'></span> <div class="lv-notification__message-text"><span class="lv-notification__title">'+t._ssrEscape(t._s(t.message.title))+'</span> <div class="lv-notification__content">'+t._ssrEscape(t._s(t.message.content))+"</div></div> "),!1!==t.message.closable?e("button",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"lv-notification__icon-close lv-link",attrs:{type:"button"},on:{click:t.onCloseClick}},[t._ssrNode('<span class="lv-notification__icon-close-icon light-icon-x"></span>')]):t._e()],2)])},staticRenderFns:[]},undefined,n,undefined,false,"data-v-0f5a42ad",!1,void 0,void 0,void 0)},computed:{containerClass(){return"lv-notification lv-component --"+this.position}}},undefined,false,"data-v-3be2d50e",!1,void 0,c,void 0),f={install:t=>{const i={add:t=>{o.$emit("add",t)},removeGroup:t=>{o.$emit("remove-group",t)},removeAllGroups:()=>{o.$emit("remove-all-groups")}};t.prototype?t.prototype.$notification=i:t.config.globalProperties.$notification=i,t.component("LvNotification",l)}};module.exports=f;
