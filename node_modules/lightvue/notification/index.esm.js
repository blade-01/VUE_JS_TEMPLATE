import{pubSub as t,DomHandler as e}from"lightvue/utils";import i from"lightvue/ripple";const o=t();function n(t,e,i,o,n,s,a,c,l,r){"boolean"!=typeof a&&(l=c,c=a,a=!1);const m="function"==typeof i?i.options:i;let f;if(t&&t.render&&(m.render=t.render,m.staticRenderFns=t.staticRenderFns,m._compiled=!0,n&&(m.functional=!0)),o&&(m._scopeId=o),s?(f=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},m._ssrRegister=f):e&&(f=a?function(t){e.call(this,r(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,c(t))}),f)if(m.functional){const t=m.render;m.render=function(e,i){return f.call(i),t(e,i)}}else{const t=m.beforeCreate;m.beforeCreate=t?[].concat(t,f):[f]}return i}var s=0,a={props:{group:{type:String,default:null},position:{type:String,default:"top-right"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0}},data:()=>({messages:[]}),mounted(){o.$on("add",(t=>{t.position||(t.position="top-right"),this.position==t.position&&this.add(t)})),o.$on("remove-group",(t=>{message.position||(message.position="top-right"),this.position===t&&(this.messages=[])})),o.$on("remove-all-groups",(()=>{this.messages=[]})),this.updateZIndex()},beforeUpdate(){this.updateZIndex()},methods:{add(t){null==t.id&&(t.id=s++),this.messages=[...this.messages,t]},remove(t){let e=-1;for(let i=0;i<this.messages.length;i++)if(this.messages[i]===t){e=i;break}this.messages.splice(e,1)},updateZIndex(){this.autoZIndex&&(this.$refs.container.style.zIndex=String(this.baseZIndex+e.generateZIndex()))}},components:{NotificationMessage:n({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.containerClass,attrs:{role:"alert","aria-live":"assertive","aria-atomic":"true"}},[i("div",{staticClass:"lv-notification__message-content"},[i("span",{class:t.iconClass}),t._v(" "),i("div",{staticClass:"lv-notification__message-text"},[i("span",{staticClass:"lv-notification__title"},[t._v(t._s(t.message.title))]),t._v(" "),i("div",{staticClass:"lv-notification__content"},[t._v(t._s(t.message.content))])]),t._v(" "),!1!==t.message.closable?i("button",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"lv-notification__icon-close lv-link",attrs:{type:"button"},on:{click:t.onCloseClick}},[i("span",{staticClass:"lv-notification__icon-close-icon light-icon-x"})]):t._e()])])},staticRenderFns:[]},undefined,{props:{message:null},closeTimeout:null,mounted(){this.message.duration&&(this.closeTimeout=setTimeout((()=>{this.close()}),this.message.duration))},methods:{close(){this.$emit("close",this.message)},onCloseClick(){this.closeTimeout&&clearTimeout(this.closeTimeout),this.close()}},computed:{containerClass(){return["lv-notification__message",{"--info":"info"===this.message.type,"--warn":"warn"===this.message.type,"--error":"error"===this.message.type,"--success":"success"===this.message.type}]},iconClass(){return["lv-notification__message-icon",{"light-icon-info-circle":"info"===this.message.type,"light-icon-alert-triangle":"warn"===this.message.type,"light-icon-circle-x":"error"===this.message.type,"light-icon-circle-check":"success"===this.message.type}]}},directives:{ripple:i}},undefined,false,undefined,!1,void 0,void 0,void 0)},computed:{containerClass(){return"lv-notification lv-component --"+this.position}}};const c="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function l(t){return(t,e)=>function(t,e){const i=c?e.media||"default":t,o=m[i]||(m[i]={ids:new Set,styles:[]});if(!o.ids.has(t)){o.ids.add(t);let i=e.source;if(e.map&&(i+="\n/*# sourceURL="+e.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),o.element||(o.element=document.createElement("style"),o.element.type="text/css",e.media&&o.element.setAttribute("media",e.media),void 0===r&&(r=document.head||document.getElementsByTagName("head")[0]),r.appendChild(o.element)),"styleSheet"in o.element)o.styles.push(i),o.element.styleSheet.cssText=o.styles.filter(Boolean).join("\n");else{const t=o.ids.size-1,e=document.createTextNode(i),n=o.element.childNodes;n[t]&&o.element.removeChild(n[t]),n.length?o.element.insertBefore(e,n[t]):o.element.appendChild(e)}}}(t,e)}let r;const m={};const f=n({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"container",class:t.containerClass},[i("transition-group",{attrs:{name:"lv-notification__message",tag:"div"}},t._l(t.messages,(function(e){return i("NotificationMessage",{key:e.id,attrs:{message:e},on:{close:function(e){return t.remove(e)}}})})),1)],1)},staticRenderFns:[]},(function(t){t&&t("data-v-3be2d50e_0",{source:".lv-notification .lv-notification__icon-close-icon{font-weight:700;font-size:18px;color:#fff!important}.lv-notification .lv-notification__message{margin:0 0 1rem 0;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);border-radius:3px;background:#38b2ac}.lv-notification .lv-notification__message .lv-notification__message-content{padding:1rem;border-width:0}.lv-notification .lv-notification__message .lv-notification__message-content .lv-notification__message-text{margin:0 0 0 1rem;color:#fff!important}.lv-notification .lv-notification__message .lv-notification__message-content .lv-notification__message-icon{font-size:2.4rem;font-weight:700;color:inherit;padding:0 6px;border-radius:50%}.lv-notification .lv-notification__message .lv-notification__message-content .lv-notification__title{font-weight:700}.lv-notification .lv-notification__message .lv-notification__message-content .lv-notification__content{margin:.5rem 0 0 0}.lv-notification .lv-notification__message .lv-notification__icon-close{font-weight:900;width:2rem;height:2rem;border-radius:50%;border-color:transparent;background-color:rgba(10,10,10,.2);transition:background-color .2s,color .2s,box-shadow .2s}.lv-notification .lv-notification__message .lv-notification__icon-close:hover{background:rgba(255,255,255,.3)}.lv-notification .lv-notification__message .lv-notification__icon-close:focus{outline:0 none;outline-offset:0}.lv-notification .lv-notification__message .lv-notification__icon-close,.lv-notification .lv-notification__message .lv-notification__message-icon{color:rgba(255,255,255,.7)!important}.lv-notification .lv-notification__message.--info{background:#3298dc}.lv-notification .lv-notification__message.--success{background:#1ab14f}.lv-notification .lv-notification__message.--warn{background:#f4c430}.lv-notification .lv-notification__message.--error{background:#b24444}@media only screen and (max-device-width:480px) and (-webkit-min-device-pixel-ratio:2){.lv-notification{width:18rem!important}.lv-notification .lv-notification__icon-close-icon{font-size:15px}.lv-notification .lv-notification__message{margin:0 0 .6rem 0}.lv-notification .lv-notification__message .lv-notification__message-content{padding:.8rem}.lv-notification .lv-notification__message .lv-notification__message-content .lv-notification__message-icon{font-size:2.2rem;padding:0 5px}.lv-notification .lv-notification__message .lv-notification__message-content .lv-notification__content{margin:.5rem 0 0 0}}.lv-notification{position:fixed;width:25rem}.lv-notification.--top-right{top:20px;right:20px}.lv-notification.--top-left{top:20px;left:20px}.lv-notification.--bottom-left{bottom:20px;left:20px}.lv-notification.--bottom-right{bottom:20px;right:20px}.lv-notification.--top-center{top:20px;left:50%;margin-left:-10em}.lv-notification.--bottom-center{bottom:20px;left:50%;margin-left:-10em}.lv-notification.--center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.lv-notification__message-content{display:flex;align-items:flex-start}.lv-notification__message-text{flex:1 1 auto}.lv-notification__icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.lv-notification__icon-close.lv-link{cursor:pointer}.lv-notification__message-enter,.lv-notification__message-enter-from{opacity:0;-webkit-transform:translateY(50%);-ms-transform:translateY(50%);transform:translateY(50%)}.lv-notification__message-leave,.lv-notification__message-leave-from{max-height:1000px}.lv-notification__message-leave-to{max-height:0;opacity:0;margin-bottom:0;overflow:hidden}.lv-notification__message-enter-active{-webkit-transition:transform .3s,opacity .3s;transition:transform .3s,opacity .3s}.lv-notification__message-leave-active{-webkit-transition:max-height .45s cubic-bezier(0,1,0,1),opacity .3s,margin-bottom .3s;transition:max-height .45s cubic-bezier(0,1,0,1),opacity .3s,margin-bottom .3s}",map:void 0,media:void 0})}),a,undefined,false,undefined,!1,l,void 0,void 0),d={install:t=>{const e={add:t=>{o.$emit("add",t)},removeGroup:t=>{o.$emit("remove-group",t)},removeAllGroups:()=>{o.$emit("remove-all-groups")}};t.prototype?t.prototype.$notification=e:t.config.globalProperties.$notification=e,t.component("LvNotification",f)}};export default d;
