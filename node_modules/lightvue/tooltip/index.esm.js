import{DomHandler as t,uniqueComponentId as e}from"lightvue/utils";function o(t){t.$_lvtooltipModifiers.focus?(t.addEventListener("focus",r),t.addEventListener("blur",u)):(t.addEventListener("mouseenter",l),t.addEventListener("mouseleave",n),t.addEventListener("click",d))}function i(t){t.$_lvtooltipModifiers.focus?(t.removeEventListener("focus",r),t.removeEventListener("blur",u)):(t.removeEventListener("mouseenter",l),t.removeEventListener("mouseleave",n),t.removeEventListener("click",d))}function l(t){p(t.currentTarget)}function n(t){s(t.currentTarget)}function r(t){p(t.currentTarget)}function u(t){s(t.currentTarget)}function d(t){s(t.currentTarget)}function p(o){if(!o.$_lvtooltipValue)return;let i=function(t){const o=e()+"_tooltip";t.$_lvtooltipId=o;let i=document.createElement("div");i.id=o;let l=document.createElement("div");l.className="lv-tooltip-arrow",i.appendChild(l);let n=document.createElement("div");return n.className="lv-tooltip-text",n.innerHTML=t.$_lvtooltipValue,i.appendChild(n),document.body.appendChild(i),i.style.display="inline-block",i}(o);!function(t){const e=t.$_lvtooltipModifiers;e.top?(m(t),_(t)&&h(t)):e.left?(g(t),_(t)&&(a(t),_(t)&&(m(t),_(t)&&h(t)))):e.bottom?(h(t),_(t)&&m(t)):(a(t),_(t)&&(g(t),_(t)&&(m(t),_(t)&&h(t))))}(o),t.fadeIn(i,250),i.style.zIndex=++t.zindex,window.addEventListener("resize",(function t(){s(o),this.removeEventListener("resize",t)}))}function s(t){c(t)}function f(t){return document.getElementById(t.$_lvtooltipId)}function c(t){if(t){let e=f(t);e&&e.parentElement&&document.body.removeChild(e),t.$_lvtooltipId=null}}function v(e){let o=e.getBoundingClientRect();return{left:o.left+t.getWindowScrollLeft(),top:o.top+t.getWindowScrollTop()}}function a(e){E(e,"right");let o=f(e),i=v(e),l=i.left+t.getOuterWidth(e),n=i.top+(t.getOuterHeight(e)-t.getOuterHeight(o))/2;o.style.left=l+"px",o.style.top=n+"px"}function g(e){E(e,"left");let o=f(e),i=v(e),l=i.left-t.getOuterWidth(o),n=i.top+(t.getOuterHeight(e)-t.getOuterHeight(o))/2;o.style.left=l+"px",o.style.top=n+"px"}function m(e){E(e,"top");let o=f(e),i=v(e),l=i.left+(t.getOuterWidth(e)-t.getOuterWidth(o))/2,n=i.top-t.getOuterHeight(o);o.style.left=l+"px",o.style.top=n+"px"}function h(e){E(e,"bottom");let o=f(e),i=v(e),l=i.left+(t.getOuterWidth(e)-t.getOuterWidth(o))/2,n=i.top+t.getOuterHeight(e);o.style.left=l+"px",o.style.top=n+"px"}function E(t,e){let o=f(t);o.style.left="-999px",o.style.top="-999px",o.className="lv-tooltip lv-component lv-tooltip-"+e}function _(e){let o=f(e),i=o.getBoundingClientRect(),l=i.top,n=i.left,r=t.getOuterWidth(o),u=t.getOuterHeight(o),d=t.getViewport();return n+r>d.width||n<0||l<0||l+u>d.height}const y={bind(t,e){t.$_lvtooltipModifiers=e.modifiers,t.$_lvtooltipValue=e.value,o(t)},unbind(t){c(t),i(t)},update(t,e){t.$_lvtooltipModifiers=e.modifiers,t.$_lvtooltipValue=e.value},mounted(t,e){t.$_lvtooltipModifiers=e.modifiers,t.$_lvtooltipValue=e.value,o(t)},unmounted(t){c(t),i(t)},updated(t,e){t.$_lvtooltipModifiers=e.modifiers,t.$_lvtooltipValue=e.value}};export default y;
