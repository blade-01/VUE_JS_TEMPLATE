"use strict";var e=require("lightvue/utils");function t(e){e.$_lvtooltipModifiers.focus?(e.addEventListener("focus",i),e.addEventListener("blur",r)):(e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",l),e.addEventListener("click",d))}function o(e){e.$_lvtooltipModifiers.focus?(e.removeEventListener("focus",i),e.removeEventListener("blur",r)):(e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",l),e.removeEventListener("click",d))}function n(e){u(e.currentTarget)}function l(e){a(e.currentTarget)}function i(e){u(e.currentTarget)}function r(e){a(e.currentTarget)}function d(e){a(e.currentTarget)}function u(t){if(!t.$_lvtooltipValue)return;let o=function(t){const o=e.uniqueComponentId()+"_tooltip";t.$_lvtooltipId=o;let n=document.createElement("div");n.id=o;let l=document.createElement("div");l.className="lv-tooltip-arrow",n.appendChild(l);let i=document.createElement("div");return i.className="lv-tooltip-text",i.innerHTML=t.$_lvtooltipValue,n.appendChild(i),document.body.appendChild(n),n.style.display="inline-block",n}(t);!function(e){const t=e.$_lvtooltipModifiers;t.top?(v(e),h(e)&&g(e)):t.left?(f(e),h(e)&&(m(e),h(e)&&(v(e),h(e)&&g(e)))):t.bottom?(g(e),h(e)&&v(e)):(m(e),h(e)&&(f(e),h(e)&&(v(e),h(e)&&g(e))))}(t),e.DomHandler.fadeIn(o,250),o.style.zIndex=++e.DomHandler.zindex,window.addEventListener("resize",(function e(){a(t),this.removeEventListener("resize",e)}))}function a(e){s(e)}function p(e){return document.getElementById(e.$_lvtooltipId)}function s(e){if(e){let t=p(e);t&&t.parentElement&&document.body.removeChild(t),e.$_lvtooltipId=null}}function c(t){let o=t.getBoundingClientRect();return{left:o.left+e.DomHandler.getWindowScrollLeft(),top:o.top+e.DomHandler.getWindowScrollTop()}}function m(t){H(t,"right");let o=p(t),n=c(t),l=n.left+e.DomHandler.getOuterWidth(t),i=n.top+(e.DomHandler.getOuterHeight(t)-e.DomHandler.getOuterHeight(o))/2;o.style.left=l+"px",o.style.top=i+"px"}function f(t){H(t,"left");let o=p(t),n=c(t),l=n.left-e.DomHandler.getOuterWidth(o),i=n.top+(e.DomHandler.getOuterHeight(t)-e.DomHandler.getOuterHeight(o))/2;o.style.left=l+"px",o.style.top=i+"px"}function v(t){H(t,"top");let o=p(t),n=c(t),l=n.left+(e.DomHandler.getOuterWidth(t)-e.DomHandler.getOuterWidth(o))/2,i=n.top-e.DomHandler.getOuterHeight(o);o.style.left=l+"px",o.style.top=i+"px"}function g(t){H(t,"bottom");let o=p(t),n=c(t),l=n.left+(e.DomHandler.getOuterWidth(t)-e.DomHandler.getOuterWidth(o))/2,i=n.top+e.DomHandler.getOuterHeight(t);o.style.left=l+"px",o.style.top=i+"px"}function H(e,t){let o=p(e);o.style.left="-999px",o.style.top="-999px",o.className="lv-tooltip lv-component lv-tooltip-"+t}function h(t){let o=p(t),n=o.getBoundingClientRect(),l=n.top,i=n.left,r=e.DomHandler.getOuterWidth(o),d=e.DomHandler.getOuterHeight(o),u=e.DomHandler.getViewport();return i+r>u.width||i<0||l<0||l+d>u.height}const D={bind(e,o){e.$_lvtooltipModifiers=o.modifiers,e.$_lvtooltipValue=o.value,t(e)},unbind(e){s(e),o(e)},update(e,t){e.$_lvtooltipModifiers=t.modifiers,e.$_lvtooltipValue=t.value},mounted(e,o){e.$_lvtooltipModifiers=o.modifiers,e.$_lvtooltipValue=o.value,t(e)},unmounted(e){s(e),o(e)},updated(e,t){e.$_lvtooltipModifiers=t.modifiers,e.$_lvtooltipValue=t.value}};module.exports=D;
