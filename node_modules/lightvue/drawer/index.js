"use strict";var e=require("lightvue/mixins");function t(e,t,r,i,o,n,a,s,d,h){"boolean"!=typeof a&&(d=s,s=a,a=!1);const l="function"==typeof r?r.options:r;let p;if(e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,o&&(l.functional=!0)),i&&(l._scopeId=i),n?(p=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(n)},l._ssrRegister=p):t&&(p=a?function(e){t.call(this,h(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),p)if(l.functional){const e=l.render;l.render=function(t,r){return p.call(r),e(t,r)}}else{const e=l.beforeCreate;l.beforeCreate=e?[].concat(e,p):[p]}return r}function r(e){return e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),e?("styles"in e||(e._styles=e._styles||{},Object.defineProperty(e,"styles",{enumerable:!0,get:()=>e._renderStyles(e._styles)}),e._renderStyles=e._renderStyles||i),(t,r)=>function(e,t,r){const i="production"===process.env.NODE_ENV?t.media||"default":e,o=r._styles[i]||(r._styles[i]={ids:[],css:""});if(!o.ids.includes(e)){o.media=t.media,o.ids.push(e);let r=t.source;"production"!==process.env.NODE_ENV&&t.map&&(r+="\n/*# sourceURL="+t.map.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+Buffer.from(unescape(encodeURIComponent(JSON.stringify(t.map)))).toString("base64")+" */"),o.css+=r+"\n"}}(t,r,e)):()=>{}}function i(e){let t="";for(const r in e){const i=e[r];t+='<style data-vue-ssr-id="'+Array.from(i.ids).join(" ")+'"'+(i.media?' media="'+i.media+'"':"")+">"+i.css+"</style>"}return t}const o=t({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"drawerWrapper",staticClass:"lv-drawer__wrapper",class:{"--shadow":e.shadow,"--close":!e.modelValue,"--mobile":e.getDrawerPosition,"--moving":e.isMoving,"--absolute":e.absolute,"--no-backdrop":e.noBackdrop},style:{zIndex:e.zIndex}},[e._ssrNode('<aside class="wrapper__drawer-container"'+e._ssrStyle(null,e.getDrawerStyle,null)+">","</aside>",[e._ssrNode((e.getDrawerPosition?'<div class="touch-dragger"></div>':"\x3c!----\x3e")+" "),e.headerTitle||e.close||e.$slots.customHeader?e._ssrNode('<div class="drawer-container__header"'+e._ssrStyle(null,e.getHeaderStyle,null)+">","</div>",[e.$slots.customHeader?e._t("customHeader"):e._ssrNode('<div class="header__title">',"</div>",[e._ssrNode(e._ssrEscape("\n        "+e._s(e.headerTitle)+"\n      "))],2),e._ssrNode(" "+(e.close?'<div class="header__close"><i class="light-icon-x"></i></div>':"\x3c!----\x3e"))],2):e._e(),e._ssrNode(" "),e._ssrNode('<div class="drawer-container__slot-content">',"</div>",[e._t("default")],2)],2),e._ssrNode(" "+(e.noBackdrop?"\x3c!----\x3e":'<div class="wrapper__backdrop"'+e._ssrStyle(null,{zIndex:e.zIndex-1,backdropFilter:e.backdropBlur&&"blur(5px)",filter:(e.backdropBlur?"blur(5px) ":"")+"opacity("+e.backdropOpacity+")"},null)+"></div>"))],2)},staticRenderFns:[]},(function(e){e&&e("data-v-eead00cc_0",{source:'.lv-drawer__wrapper{position:fixed;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden}.lv-drawer__wrapper .wrapper__drawer-container{pointer-events:all;position:absolute;z-index:10;transition:all .3s ease;position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;width:100%;margin:0!important;max-width:100vw!important}.lv-drawer__wrapper .wrapper__drawer-container::-webkit-scrollbar{display:none}.lv-drawer__wrapper .wrapper__drawer-container .touch-dragger{font-size:30px;text-align:center;line-height:20px;position:relative;height:max-content;width:100%;position:sticky;height:15px;top:0}.lv-drawer__wrapper .wrapper__drawer-container .touch-dragger::before{content:"";position:absolute;top:50%;left:50%;transform:translateX(-50%);background-color:rgba(0,0,0,.3);height:4px;width:45px;border-radius:50px;overflow:hidden}.lv-drawer__wrapper .wrapper__drawer-container .drawer-container__header{display:flex;justify-content:space-between;align-items:center;touch-action:none;min-height:max-content}.lv-drawer__wrapper .wrapper__drawer-container .drawer-container__header .header__title{padding:10px}.lv-drawer__wrapper .wrapper__drawer-container .drawer-container__header .header__close{cursor:pointer;display:inline-block;padding:10px}.lv-drawer__wrapper .wrapper__drawer-container .drawer-container__header .header__close i{font-size:20px;font-weight:700}.lv-drawer__wrapper .wrapper__drawer-container .drawer-container__header .header__close i::after,.lv-drawer__wrapper .wrapper__drawer-container .drawer-container__header .header__close i::before{vertical-align:initial}.lv-drawer__wrapper .wrapper__drawer-container .drawer-container__slot-content{height:100%;overflow-y:auto}.lv-drawer__wrapper .wrapper__drawer-container .drawer-container__slot-content::-webkit-scrollbar{display:none}.lv-drawer__wrapper.--close{visibility:hidden}.lv-drawer__wrapper.--shadow .wrapper__drawer-container{box-shadow:0 0 10px rgba(0,0,0,.3)}.lv-drawer__wrapper.--mobile .wrapper__drawer-container{border-top-right-radius:15px;border-top-left-radius:15px}.lv-drawer__wrapper.--moving .wrapper__drawer-container{transition:none}.lv-drawer__wrapper.--absolute{position:absolute}.lv-drawer__wrapper.--no-backdrop{pointer-events:none}.lv-drawer__wrapper .wrapper__backdrop{position:absolute;top:0;left:0;right:0;bottom:0;min-height:100vh;min-width:100vw;background-color:#000}',map:void 0,media:void 0})}),{name:"LvDrawer",mixins:[e.trueValueMixin,e.preventBrowserBackMixin],data:()=>({initialTouch:0,currentTouch:0,changedTouch:0,initialClientYTouch:0,isMoving:!1,isMobile:!1,snap:0,drawerHeight:0,windowWidth:0,windowHeight:0,containerHeight:0,timeOutID:null}),props:{top:Boolean,right:Boolean,bottom:Boolean,left:Boolean,close:Boolean,shadow:Boolean,backdropBlur:Boolean,customStyle:Object,headerTitle:String,backdropOpacity:{type:Number,default:.3},absolute:{type:Boolean,default:!1},noBackdrop:{type:Boolean,default:!1},width:{type:Number,default:250},height:{type:Number,default:250},percentWidth:Number,percentHeight:Number,zIndex:{type:Number,default:10},maxSpan:{type:Number,default:70},background:{type:String,default:"#ffffff"},headerColor:{type:String,default:"#000000"},headerBackground:{type:String,default:"#fff"},headerFontSize:{type:String,default:"20px"},padding:{type:String,default:"0px"},noBottom:{type:Boolean,default:!1}},methods:{drawerClose(){this.snap=this.drawerHeight,this.$emit("close"),this.updateValue(!1)},handleTouchStart(e){this.initialTouch=this.$refs.drawer.offsetTop,this.initialClientYTouch=e.touches[0].clientY,this.currentTouch=0,this.changedTouch=0,this.isMoving=!0},handleTouchMove(e){this.isMoving&&(this.currentTouch=e.touches[0].clientY,this.changedTouch=this.initialClientYTouch-this.currentTouch)},handleTouchEnd(){this.getSnap(this.getTopPx),this.isMoving=!1,this.initialTouch=0,this.initialClientYTouch=0,this.currentTouch=0,this.changedTouch=0},getSnap(e){const t=10*this.containerHeight/100,r=this.containerHeight*(100-this.maxSpan)/100;e<=r?this.snap=r.toString()+"px":e>this.containerHeight-t?(this.snap="100%",this.drawerClose()):this.snap=e},handleResize(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.isMobile=this.windowWidth<=525,clearTimeout(this.timeOutID),this.timeOutID=setTimeout((()=>{this.drawerHeight=this.getHeight,this.snap=this.drawerHeight}),250)},handleOnBrowserBack(){!0===this.modelValue&&this.drawerClose()}},computed:{getTopPx(){return this.initialTouch-this.changedTouch},getDrawerStyle(){return{width:this.left||this.right?this.getWidth:this.top||this.right?"100%":this.getWidth,zIndex:this.zIndex+5,padding:this.padding,background:this.background,...this.getTransitionStyle,...this.customStyle}},getHeaderStyle(){return{fontSize:this.headerFontSize,color:this.headerColor,background:this.headerBackground}},getTransitionStyle(){return this.getDrawerPosition?this.getBottomTouchStyle:this.left?this.getLeftStyle:this.right?this.getRightStyle:this.top?this.getTopStyle:this.getLeftStyle},getLeftStyle(){return{left:0,top:0,bottom:0,transform:this.modelValue?"translateX(0)":"translateX(-100%)"}},getRightStyle(){return{right:0,top:0,bottom:0,left:"100%",transform:this.modelValue?"translateX(-100%)":"translateX(0)"}},getTopStyle(){return{left:0,right:0,top:0,bottom:this.modelValue?this.drawerHeight:"100%"}},getBottomTouchStyle(){return{left:0,right:0,bottom:0,width:"100%",height:"auto",top:this.modelValue?this.isMoving?this.getTopPx+"px":this.snap:"100%"}},getDrawerPosition(){return!this.noBottom&&this.isMobile},getHeight(){this.containerHeight=this.$refs.drawerWrapper.clientHeight;let e=0;return this.percentHeight?(this.percentHeight,this.windowHeight):e=Math.min(this.height,this.windowHeight),this.containerHeight-e+"px"},getWidth(){return this.percentWidth?`${this.percentWidth}%`:`${this.width}px`}},watch:{modelValue(e){document.documentElement.style.overflow=1==e?this.noBackdrop?"auto":"hidden":"overlay",!0===e?this.preventPopstate():this.manuallyClosePopstate()}},beforeMount(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth},mounted(){this.isMobile=this.windowWidth<=525,this.drawerHeight=this.getHeight,this.snap=this.drawerHeight,document.documentElement.style.overflow=1==this.modelValue?"hidden":"overlay",window.addEventListener("resize",this.handleResize)},beforeDestroy(){window.removeEventListener("resize",this.handleResize)}},undefined,false,"data-v-eead00cc",!1,void 0,r,void 0);module.exports=o;
