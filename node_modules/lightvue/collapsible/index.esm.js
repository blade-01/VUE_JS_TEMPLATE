import{openBlock as t,createBlock as e,Transition as i,mergeProps as s,withCtx as n,withDirectives as a,createVNode as r,renderSlot as o,vShow as l}from"vue";var h={name:"LvCollapsible",props:{name:{type:String,required:!1,default:"collapsible"},show:{type:Boolean,required:!0,default:!0},orientation:{type:String,required:!1,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},duration:{type:Number,required:!1,default:350}},watch:{orientation(){this.clearCachedOrientations()}},data:()=>({cachedStyles:null,comp_orientation:""}),computed:{transition(){let t=[];return Object.keys(this.cachedStyles).forEach((e=>{t.push(`${this.convertToCssProperty(e)} ${this.duration}ms `)})),t.join(", ")}},methods:{enter(t,e){this.detectAndCacheOrientations(t),this.setClosedOrientations(t),this.hideOverflow(t),this.forceRepaint(t),this.setTransition(t),this.setOpenedOrientations(t),this.$emit("enter",t,e),setTimeout(e,this.duration)},afterEnter(t){this.unsetOverflow(t),this.unsetTransition(t),this.unsetOrientations(t),this.clearCachedOrientations(),this.$emit("after-enter",t)},leave(t,e){this.detectAndCacheOrientations(t),this.setOpenedOrientations(t),this.hideOverflow(t),this.forceRepaint(t),this.setTransition(t),this.setClosedOrientations(t),this.$emit("leave",t,e),setTimeout(e,this.duration)},afterLeave(t){this.unsetOverflow(t),this.unsetTransition(t),this.unsetOrientations(t),this.clearCachedOrientations(),this.$emit("after-leave",t)},detectAndCacheOrientations(t){if(this.cachedStyles)return;const e=t.style.visibility,i=t.style.display;t.style.visibility="hidden",t.style.display="",t.style["backface-visibility"]="hidden",this.cachedStyles=this.detectRelevantOrientations(t),t.style.visibility=e,t.style.display=i},clearCachedOrientations(){this.cachedStyles=null},detectRelevantOrientations(t){return"vertical"===this.orientation?{height:t.offsetHeight+"px",paddingTop:t.style.paddingTop||this.getCssValue(t,"padding-top"),paddingBottom:t.style.paddingBottom||this.getCssValue(t,"padding-bottom")}:"horizontal"===this.orientation?{width:t.offsetWidth+"px",paddingLeft:t.style.paddingLeft||this.getCssValue(t,"padding-left"),paddingRight:t.style.paddingRight||this.getCssValue(t,"padding-right")}:{}},setTransition(t){t.style.transition=this.transition},unsetTransition(t){t.style.transition=""},hideOverflow(t){t.style.overflow="hidden"},unsetOverflow(t){t.style.overflow=""},setClosedOrientations(t){Object.keys(this.cachedStyles).forEach((e=>{t.style[e]="0"}))},setOpenedOrientations(t){Object.keys(this.cachedStyles).forEach((e=>{t.style[e]=this.cachedStyles[e]}))},unsetOrientations(t){Object.keys(this.cachedStyles).forEach((e=>{t.style[e]=""}))},forceRepaint(t){getComputedStyle(t)["vertical"===this.orientation?"height":"width"]},getCssValue:(t,e)=>getComputedStyle(t,null).getPropertyValue(e),convertToCssProperty(t){const e=t.match(/([A-Z])/g);if(!e)return t;for(let i=0,s=e.length;i<s;i++)t=t.replace(new RegExp(e[i]),"-"+e[i].toLowerCase());return"-"===t.slice(0,1)&&(t=t.slice(1)),t}}};const d={class:"lv-collapsible__wrap"};h.render=function(h,c,u,p,y,f){return t(),e(i,s({name:u.name},h.$attrs,{onEnter:f.enter,onAfterEnter:f.afterEnter,onLeave:f.leave,onAfterLeave:f.afterLeave}),{default:n((()=>[a(r("div",d,[o(h.$slots,"default")],512),[[l,u.show]])])),_:3},16,["name","onEnter","onAfterEnter","onLeave","onAfterLeave"])};export default h;
