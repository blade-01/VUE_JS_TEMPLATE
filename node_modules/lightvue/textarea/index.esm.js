import e from"lightvue/input";var t={name:"LvTextarea",components:{LvInput:e},data:()=>({localValue:""}),props:{value:{type:String,default:""},maxLength:{type:Number},showLimit:{type:Boolean,default:!1},autoResize:{type:Boolean,default:!1},resize:{type:String,default:"none"}},mounted(){this.$refs.textarea.offsetParent&&this.autoResize&&this.resizeTextareaV2()},methods:{resizeTextareaV2(){this.$refs.textarea.style.height="auto",this.$refs.textarea.style.height=this.$refs.textarea.scrollHeight+(this.$refs.textarea.clientHeight-this.$refs.textarea.offsetHeight)+"px"},updateModel(e){this.$emit("input-native",e),this.updateValue(e.target.value)},updateValue(e){this.autoResize&&this.resizeTextareaV2(),this.localValue=e,this.$emit("input",e),this.$emit("update:modelValue",e)},handleClear(){this.updateValue(""),this.$emit("clear")}},computed:{listeners(){return{...this.$listeners,input:e=>{this.updateModel(e)}}},filled(){return null!=this.modelValue&&this.modelValue.toString().length>0},modelValue(){return this.$attrs.modelValue?this.$attrs.modelValue:this.value?this.value:this.localValue}}};function a(e,t,a,n,i,s,l,r,o,d){"boolean"!=typeof l&&(o=r,r=l,l=!1);const u="function"==typeof a?a.options:a;let c;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,i&&(u.functional=!0)),n&&(u._scopeId=n),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,o(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):t&&(c=l?function(e){t.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),c)if(u.functional){const e=u.render;u.render=function(t,a){return c.call(a),e(t,a)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,c):[c]}return a}const n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function i(e){return(e,t)=>function(e,t){const a=n?t.media||"default":e,i=l[a]||(l[a]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);let a=t.source;if(t.map&&(a+="\n/*# sourceURL="+t.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),void 0===s&&(s=document.head||document.getElementsByTagName("head")[0]),s.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(a),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{const e=i.ids.size-1,t=document.createTextNode(a),n=i.element.childNodes;n[e]&&i.element.removeChild(n[e]),n.length?i.element.insertBefore(t,n[e]):i.element.appendChild(t)}}}(e,t)}let s;const l={};const r=a({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("lv-input",e._b({ref:"mainInput",class:{"--not-empty":e.filled},attrs:{type:"text",editable:!1,value:e.modelValue},on:{clear:function(t){return e.handleClear()}}},"lv-input",e.$attrs,!1),[a("textarea",e._b({ref:"textarea",staticClass:"lv-textarea light-scrollbar",class:{"--resize-vertical":"vertical"===e.resize},attrs:{maxlength:e.maxLength},domProps:{value:e.modelValue},on:{input:e.updateModel}},"textarea",e.$attrs,!1))]),e._v(" "),e.showLimit&&e.maxLength?a("div",{staticClass:"lv-textarea__limits"},[e._v(e._s(e.modelValue?e.modelValue.length:0)+" / "+e._s(e.maxLength))]):e._e()],1)},staticRenderFns:[]},(function(e){e&&e("data-v-5462e891_0",{source:".lv-textarea{border:none;width:100%;background:0 0;outline:0;resize:none;font-family:inherit}.lv-textarea.--resize-vertical{resize:vertical}.lv-textarea__limits{display:flex;justify-content:flex-end;margin-top:5px}",map:void 0,media:void 0})}),t,undefined,false,undefined,!1,i,void 0,void 0);export default r;
